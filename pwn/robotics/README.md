# Robotics (PWN)
### Сложность
Hard
### Информация
```
Мы построили секретный завод робототехники, использующий самые современные системы безопасности. Попробуй испытать их на прочность.

nc IP 1557
```
### Запуск 
```sh
cd deploy
docker-compose up --build -d
```

### Выдать учатникам
Содержимое папки public: архив, исполняемый файл и IP:PORT сервера

### Решение 

1) В коде присутствует double free уязвимость (можно два раза удалить обьект safe robo из массива). Однако вместо обычной кучи в приложении используется самописный аллокатор, который не дает провести double free. Поэтому необходимо превратить double free примтив в use-after-free примитив путем удаления первого обьекта, аллокации на его место другого обьекта,  снова удаления первого обьекта. Таким образом мы сможем аллоцировать строку на место обьекта robo и менять его поля. Меняя safe указатель мы можем считывать или перезаписывать содержимое внутри нашей кастомной кучи.

2) Перезаписываем размер чанка и function указатель в нем на safe_write, чтобы записать на кучу содержимое стека. После чего получаем лики libc и стека

3) Переписываем heap base на значение буфера на  стеке, в который происходит ввод - после чего создаем там фейковый обьект robo и записываем rop на стек.

sploit.py

### Флаг
miactf{15_17_h4rd_70_pwn_r0b0_f4c70ry}

